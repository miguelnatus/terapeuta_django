{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Daniel Rosenthal - Terapeuta especializado em relacionamentos, maturidade emocional e ansiedade para mulheres.">
    
    <!-- FONTES -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Lora:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="{% static 'css/components.css' %}" rel="stylesheet">
    
    <!-- TAILWIND CDN + SUAS CORES -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'moss-green': '#5a7a6b',
                        'moss-green-light': '#7a9a8b',
                        'moss-green-dark': '#3a5a4b',
                        'warm-orange': '#d97e4a',
                        'warm-orange-light': '#e89a66',
                        'warm-beige': '#e8dcc8',
                        'warm-beige-light': '#f5f0e8',
                        'warm-beige-dark': '#d4cbb5',
                        'text-dark': '#3d3d3d',
                        'text-light': '#6b6b6b',
                        background: '#fefdfb',
                        foreground: '#3d3d3d'
                    },
                    fontFamily: {
                        lora: ['Lora', 'serif'],
                        playfair: ['Playfair Display', 'serif']
                    }
                }
            }
        }
    </script>
    
    <!-- HTMX para interatividade -->
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
</head>
<body class="bg-background text-foreground font-lora antialiased">
    {% block content %}
    {% endblock %}

<script>
  // Scroll suave para seções
  function scrollToSection(id) {
    const el = document.getElementById(id);
    if (!el) return;
    el.scrollIntoView({ behavior: 'smooth' });
  }

  document.addEventListener('click', function (event) {
    const btn = event.target.closest('.nav-link');
    if (!btn) return;

    const targetId = btn.dataset.scrollTarget;
    if (!targetId) return;

    event.preventDefault();
    scrollToSection(targetId);

    // Fecha menu mobile se estiver aberto
    const mobileMenu = document.getElementById('mobile-menu');
    const iconOpen = document.getElementById('icon-open');
    const iconClose = document.getElementById('icon-close');
    if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
      mobileMenu.classList.add('hidden');
      if (iconOpen && iconClose) {
        iconOpen.classList.remove('hidden');
        iconClose.classList.add('hidden');
      }
    }
  });

  // Toggle do menu mobile
  document.addEventListener('DOMContentLoaded', function () {
    const toggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    const iconOpen = document.getElementById('icon-open');
    const iconClose = document.getElementById('icon-close');

    if (!toggle || !mobileMenu) return;

    toggle.addEventListener('click', function () {
      const isHidden = mobileMenu.classList.contains('hidden');
      if (isHidden) {
        mobileMenu.classList.remove('hidden');
        if (iconOpen && iconClose) {
          iconOpen.classList.add('hidden');
          iconClose.classList.remove('hidden');
        }
      } else {
        mobileMenu.classList.add('hidden');
        if (iconOpen && iconClose) {
          iconOpen.classList.remove('hidden');
          iconClose.classList.add('hidden');
        }
      }
    });
  });
</script>
</body>
</html>